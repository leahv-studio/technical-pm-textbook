<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sine Function Visualization</title>
    <!-- Plotly.js CDN -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: aliceblue;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 5px;
            background: aliceblue;
        }
        h1 {
            margin-top: 5px;
            margin-bottom: 2px;
            font-size: 1.5em;
            text-align: center;
            color: #333;
        }
        .subtitle {
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 0.9em;
            text-align: center;
            color: #666;
            font-style: italic;
        }
        #plot {
            width: 100%;
            height: 400px;
            margin-bottom: 10px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .controls {
            margin: 10px 5px 5px 5px;
            padding: 10px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .controls label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9em;
            color: #333;
            font-weight: 500;
        }
        input[type="range"] {
            width: 100%;
            margin-top: 5px;
        }
        #slider-value {
            font-weight: bold;
            color: #007bff;
        }
        @media (max-width: 768px) {
            h1 { font-size: 1.2em; }
            .subtitle { font-size: 0.8em; }
            #plot { height: 300px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sine Function Visualization</h1>
        <p class="subtitle">y = sin(x)</p>

        <div id="plot"></div>

        <div class="controls">
            <label for="x-slider">Point Position (x): <span id="slider-value">0.000</span></label>
            <input type="range" id="x-slider" min="-6.28" max="6.28" step="0.01" value="0">
        </div>
    </div>

    <script>
        // Configuration
        const config = {
            xMin: -6.28,
            xMax: 6.28,
            yMin: -1.5,
            yMax: 1.5,
            numPoints: 500,
            initialX: 0
        };

        // Mathematical function
        function f(x) {
            return Math.sin(x);
        }

        // Generate data points
        function generateFunctionData() {
            const xValues = [];
            const yValues = [];
            const step = (config.xMax - config.xMin) / config.numPoints;

            for (let i = 0; i <= config.numPoints; i++) {
                const x = config.xMin + i * step;
                xValues.push(x);
                yValues.push(f(x));
            }
            return { x: xValues, y: yValues };
        }

        // Create plot
        function createPlot(pointX) {
            const functionData = generateFunctionData();
            const pointY = f(pointX);

            const curveTrace = {
                x: functionData.x,
                y: functionData.y,
                type: 'scatter',
                mode: 'lines',
                name: 'y = sin(x)',
                line: { color: '#007bff', width: 2 },
                hovertemplate: '<b>x:</b> %{x:.3f}<br><b>y:</b> %{y:.3f}<extra></extra>'
            };

            const pointTrace = {
                x: [pointX],
                y: [pointY],
                type: 'scatter',
                mode: 'markers',
                name: 'Point',
                marker: { color: '#dc3545', size: 10, symbol: 'circle' },
                hovertemplate: '<b>Point</b><br>x: %{x:.3f}<br>y: %{y:.3f}<extra></extra>'
            };

            const layout = {
                title: false,
                xaxis: {
                    title: { text: 'x (radians)', font: { size: 14 } },
                    range: [config.xMin, config.xMax],
                    showgrid: true,
                    gridcolor: '#e0e0e0',
                    zeroline: true,
                    zerolinecolor: '#333',
                    zerolinewidth: 1
                },
                yaxis: {
                    title: { text: 'y = sin(x)', font: { size: 14 } },
                    range: [config.yMin, config.yMax],
                    showgrid: true,
                    gridcolor: '#e0e0e0',
                    zeroline: true,
                    zerolinecolor: '#333',
                    zerolinewidth: 1
                },
                margin: { l: 50, r: 20, t: 10, b: 50 },
                paper_bgcolor: 'white',
                plot_bgcolor: 'white',
                hovermode: 'closest',
                showlegend: true,
                legend: {
                    x: 0.02,
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.8)',
                    bordercolor: '#ccc',
                    borderwidth: 1
                }
            };

            const plotConfig = {
                responsive: true,
                displayModeBar: true,
                displaylogo: false,
                modeBarButtonsToRemove: ['lasso2d', 'select2d'],
                toImageButtonOptions: {
                    format: 'png',
                    filename: 'sine-function',
                    height: 600,
                    width: 800
                }
            };

            Plotly.newPlot('plot', [curveTrace, pointTrace], layout, plotConfig);
        }

        // Update point
        function updatePoint(x) {
            const y = f(x);
            Plotly.restyle('plot', { x: [[x]], y: [[y]] }, [1]);
            document.getElementById('slider-value').textContent = x.toFixed(3);
        }

        // Initialize
        createPlot(config.initialX);

        document.getElementById('x-slider').addEventListener('input', function(e) {
            updatePoint(parseFloat(e.target.value));
        });

        window.addEventListener('resize', function() {
            Plotly.Plots.resize('plot');
        });
    </script>
</body>
</html>
